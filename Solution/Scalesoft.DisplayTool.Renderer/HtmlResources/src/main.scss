@use "sass:math";
@use "theme-variables" as *;
@import "sizing-variables";
@import "hideable-content";
@import "print";

@layer documentation-mode, bootstrap;

@layer bootstrap {
    @import "bootstrap/scss/utilities";
    @import "bootstrap/scss/root";
    @import "bootstrap/scss/grid";

    @import "bootstrap/scss/utilities/api";
    @import "bootstrap/scss/reboot";
    @import "bootstrap/scss/type";

    @import "bootstrap/scss/tables";
    @import "bootstrap/scss/badge";
    @import "bootstrap/scss/alert";
    @import "bootstrap/scss/card";
    @import "bootstrap/scss/modal";
}

body {
    font-size: var(--#{$prefix}font-size);
}

h1, .h1 {
    font-size: var(--#{$prefix}h1-font-size);
}

h2, .h2 {
    font-size: var(--#{$prefix}h2-font-size);
}

h3, .h3 {
    font-size: var(--#{$prefix}h3-font-size);
}

h4, .h4 {
    font-size: var(--#{$prefix}h4-font-size);
}

h5, .h5 {
    font-size: var(--#{$prefix}h5-font-size);
}

h6, .h6 {
    font-size: var(--#{$prefix}h6-font-size);
}

.small {
    font-size: var(--#{$prefix}small-font-size)
}

// CDA widgets use table body as a component, so it is treated as one row and styled accordingly. Other document types started to use it too.
.table.striped {
    > tbody {
        > tr {
            &:not(:last-of-type):not(.collapse-toggler-row) {
                border-bottom-width: 0;
            }

            &:not(:first-of-type) {
                border-top-width: 0;
            }

            > * {
                --#{$prefix}table-color-type: initial;
                --#{$prefix}table-bg-type: initial;
            }
        }

        &:nth-of-type(odd) tr > * {
            --#{$prefix}table-color-type: var(--#{$prefix}table-striped-color);
            --#{$prefix}table-bg-type: var(--#{$prefix}table-striped-bg);
        }
    }
}

.collapse-label {
    cursor: pointer;

    .divider-label-subtitle {
        display: block;
    }
}

.collapse-toggler-checkbox:checked + .collapse-toggler-label > .collapse-triangle-icon {
    color: transparent;
}

#ic-triangle-outline {
    color: var(--#{$prefix}primary-300);
}

.collapsible-content-wrapper {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.5s ease-out;

    .collapsible-content {
        overflow: hidden;
        padding-top: 0;
        transition: padding-top 0.2s ease-out 0.2s;
    }
}

.collapse-checkbox {
    display: none;

    &:checked + .collapse-label {
        .collapse-icon {
            transform: rotate(180deg);
        }

        .divider-label-subtitle {
            display: none;
        }

        + .collapsible-content-wrapper {
            grid-template-rows: 1fr;

            > .collapsible-content:not(.card > .collapsible-content-wrapper > .collapsible-content) {
                padding-top: $spacing02;
            }
        }
    }
}

.patient-cards-layout {
    --gap: #{$spacing02};
    gap: var(--gap);

    > * {
        flex: 0 0 100%;
        height: 100%;
    }
}

@layer documentation-mode {
    .render-mode-documentation {
        $documentation-text-color: white;
        $documentation-bg-color: var(--#{$prefix}blue-500);
        $documentation-darker-bg-color: var(--#{$prefix}blue-600);
        word-break: break-all;

        --#{$prefix}body-bg: #{$documentation-bg-color} !important;
        --#{$prefix}body-color: #{$documentation-text-color} !important;
        --#{$prefix}heading-color: #{$documentation-text-color} !important;
        --#{$prefix}emphasis-color: #{$documentation-text-color} !important;

        .text-muted {
            opacity: 70%;
            color: $documentation-text-color !important;
        }

        .text-icon {
            display: none !important;
        }

        .icon {
            color: $documentation-text-color !important;
        }

        .collapse-all-btn {
            border: 1px solid $documentation-text-color !important;
        }

        .collapse-row-icon {
            opacity: 100% !important;
        }

        .divider {
            --#{$prefix}divider-color: #{$documentation-text-color} !important;

            hr {
                opacity: 70% !important;
                --#{$prefix}hr-bg-color: #{$documentation-text-color} !important;
            }
        }

        .collapse-toggler-empty-column {
            --#{$prefix}thead-bg-color: #{$documentation-darker-bg-color} !important;
            --#{$prefix}thead-color: #{$documentation-text-color} !important;
        }

        th {
            word-break: initial;
            --#{$prefix}th-bg-color: #{$documentation-darker-bg-color} !important;
            --#{$prefix}th-color: #{$documentation-text-color} !important;
        }

        .table > :not(caption) > * > * {
            --#{$prefix}table-color: #{$documentation-text-color};
        }

        .card {
            --#{$prefix}card-cap-bg: #{$documentation-darker-bg-color} !important;
            --#{$prefix}card-cap-color: #{$documentation-text-color} !important;
        }

        .badge {
            --#{$prefix}badge-bg: #{$documentation-darker-bg-color} !important;
            --#{$prefix}badge-color: #{$documentation-text-color} !important;
        }
    }
}

// Copied from https://hl7.org/fhir/R4/fhir-runtime.css

.narrative {
    .bold {
        font-weight: bold
    }

    .italics {
        font-style: italic
    }

    .underline {
        text-decoration: underline
    }

    .strikethrough {
        text-decoration: line-through
    }

    .left {
        text-align: left
    }

    .right {
        text-align: right
    }

    .center {
        text-align: center
    }

    .justify {
        text-align: justify
    }

    .border-left {
        border-left: 1px solid grey
    }

    .border-right {
        border-right: 1px solid grey
    }

    .border-top {
        border-top: 1px solid grey
    }

    .border-bottom {
        border-bottom: 1px solid grey
    }

    .arabic {
        list-style-type: decimal
    }

    .little-roman {
        list-style-type: lower-roman
    }

    .big-roman {
        list-style-type: upper-roman
    }

    .little-alpha {
        list-style-type: lower-alpha
    }

    .big-alpha {
        list-style-type: upper-alpha
    }

    .disc {
        list-style-type: disc
    }

    .circle {
        list-style-type: circle
    }

    .square {
        list-style-type: square
    }

    .nolist, .unlist {
        list-style-type: none
    }

}


.bordered-card {
    flex: 1 1 15rem;
    border: 1px solid #c5dbf2;
    padding: 1rem;
    border-radius: 5px;
}

.opentype-item-w {
    max-width: 34rem;
}

.activeTarget, .activeTarget > *, .activeTarget > * > * {
    animation-name: highlight-target;
    animation-duration: 2s;
    animation-delay: 1s;
}

@keyframes highlight-target {
    from {
        background: #ffffaa;
    }
    to {
        background: transparent;
    }
}

.patient-info-width {
    width: 30vw;
}

.provenance-container {
    width: min-content;
}

.time-card {
    max-width: 30rem;
}

.media-image-container > img {
    max-width: 50rem;
}

.person-image {
    //max-width: 50%;
    height: auto;
}

.deleted-list-item > .card-header {
    background-color: $danger-100;
    color: var(--#{$prefix}-card-color);
}

.collapse-toggler-row:has(> td:first-child .collapse-toggler-wrapper > .collapse-toggler-checkbox:checked) + .collapsible-row-wrapper:not(:has(> td > .narrative-print-collapser-hidden:only-child)) {
    display: table-row;
}

.header-code {
    max-height: calc((var(--#{$prefix}h1-font-size) * 4) - var(--#{$prefix}h6-font-size) * 4);
    width: auto;
    height: auto;
}

.header-image > img {
    max-height: calc((var(--#{$prefix}h1-font-size) * 4) - var(--#{$prefix}h6-font-size) * 4);
}

.header-code-container {
    max-height: 10rem;
    text-align: center;
    margin-right: $spacing01;
}

.icon {
    height: var(--#{$prefix}tooltip-icon-font-size);
    flex-shrink: 0;
}

.alert-icon {
    margin-right: $spacing02;
    flex-shrink: 0;
}

.collapse-row-icon {
    cursor: pointer;
    height: 1.3rem;
    opacity: 50%;
}

.collapse-icon {
    transition: transform 0.5s ease-out;
}

.tooltip-icon {
    cursor: pointer;
    height: 0.75rem;
    color: var(--#{$prefix}info-500);
    margin-inline: $spacing01;
}

.check-icon {
    color: var(--#{$prefix}success-500);
}

.cross-icon {
    color: var(--#{$prefix}danger-600);
}

.gear-icon {
    color: var(--#{$prefix}gray-500);
}

.circle-user-icon {
    color: var(--#{$prefix}info-400);
}

.blue-cross-icon {
    color: var(--dt-primary-400);
}

.file-icon {
    color: var(--#{$prefix}button-bg);
    height: var(--#{$prefix}tooltip-icon-font-size);
}

.caret-down {
    width: calc(var(--#{$prefix}tooltip-icon-font-size) * 1.3);
    height: calc(var(--#{$prefix}tooltip-icon-font-size) * 1.3);
}

.corner-close-cross {
    color: var(--#{$prefix}primary);
}

.icon-reservoir {
    width: 0;
    height: 0;
    position: absolute;
    left: -1000px;
}

.red-danger-icon {
    color: var(--#{$prefix}danger-600)
}

.green-success-icon {
    color: var(--#{$prefix}success-400)
}

.orange-warning-icon {
    color: var(--#{$prefix}warning-600)
}

.yellow-warning-icon {
    color: var(--#{$prefix}warning-900)
}

.blue-info-icon {
    color: var(--#{$prefix}info-400)
}

.enum-tooltip-icon {
    height: calc(var(--#{$prefix}tooltip-icon-font-size) * 0.8);
    width: calc(var(--#{$prefix}tooltip-icon-font-size) * 0.8);
    margin-right: 0;
    margin-left: 0;
}

.card-header .icon {
    height: $spacing03;
    width: $spacing03;
}

.abnormal {
    background-color: #{$red-100};
}

.critical {
    background-color: #{$red-300};
}

.collapse-triangle-icon {
    color: var(--#{$prefix}primary-300);
    cursor: pointer;
}

.lab-abnormal-value {
    border-radius: var(--#{$prefix}border-radius-pill);
    display: inline-block;
    padding: 0.35em 0.65em;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
}

.text-alert-600 {
    color: #{$red-600};
}

.text-warning-400 {
    color: #{$yellow-400};
}

.text-warning-600 {
    color: #{$yellow-600};
}

.text-success-400 {
    color: #{$green-400};
}

.text-info-400 {
    color: #{$blue-400};
}

.text-gray-600 {
    color: #{$gray-600};
}

.collapsible-row-details {
    background-color: #F3F7FB;
}

.sub-component-row {
    $subcomponent-padding: 0.35rem;

    td:first-child {
        box-shadow: inset $subcomponent-padding 0 0 0 #{$table-border-color};
        padding-left: $subcomponent-padding + 0.45rem;

        .collapse-toggler-wrapper {
            left: $subcomponent-padding;
        }
    }
}

body {
    --#{$prefix}severity-card-header-bg: var(--#{$prefix}primary-100);
    --#{$prefix}severity-card-header-color: var(--#{$prefix}primary-600);
    --#{$prefix}severity-card-border-color: var(--#{$prefix}primary-300);
    --#{$prefix}severity-card-footer-bg: color-mix(in srgb, var(--#{$prefix}primary-100) 40%, transparent);
    --#{$prefix}severity-badge-bg: var(--#{$prefix}primary-100);
    --#{$prefix}severity-badge-color: var(--#{$prefix}primary-600);
    --#{$prefix}severity-badge-border-color: var(--#{$prefix}primary-100);
    --#{$prefix}severity-color: var(--#{$prefix}primary-700);
}

.severity-primary {
    --#{$prefix}severity-card-header-bg: var(--#{$prefix}primary-100);
    --#{$prefix}severity-card-header-color: var(--#{$prefix}primary-600);
    --#{$prefix}severity-card-border-color: var(--#{$prefix}primary-300);
    --#{$prefix}severity-card-footer-bg: color-mix(in srgb, var(--#{$prefix}primary-100) 40%, transparent);
    --#{$prefix}severity-card-bg: var(--#{$prefix}primary-50);
    --#{$prefix}severity-badge-bg: var(--#{$prefix}primary-100);
    --#{$prefix}severity-badge-color: var(--#{$prefix}primary-600);
    --#{$prefix}severity-badge-border-color: var(--#{$prefix}primary-100);
    --#{$prefix}severity-color: var(--#{$prefix}primary-700);
}

.severity-secondary {
    --#{$prefix}severity-card-header-bg: var(--#{$prefix}secondary-300);
    --#{$prefix}severity-card-header-color: var(--#{$prefix}secondary-900);
    --#{$prefix}severity-card-border-color: var(--#{$prefix}secondary-400);
    --#{$prefix}severity-card-footer-bg: color-mix(in srgb, var(--#{$prefix}secondary-100) 40%, transparent);
    --#{$prefix}severity-card-bg: var(--#{$prefix}secondary-100);
    --#{$prefix}severity-badge-bg: var(--#{$prefix}secondary-800);
    --#{$prefix}severity-badge-color: var(--#{$prefix}secondary-200);
    --#{$prefix}severity-badge-border-color: var(--#{$prefix}secondary-100);
    --#{$prefix}severity-color: var(--#{$prefix}secondary-700);
}

.severity-info {
    --#{$prefix}severity-card-header-bg: var(--#{$prefix}info-100);
    --#{$prefix}severity-card-header-color: var(--#{$prefix}info-900);
    --#{$prefix}severity-card-border-color: var(--#{$prefix}info-300);
    --#{$prefix}severity-card-footer-bg: color-mix(in srgb, var(--#{$prefix}info-100) 20%, transparent);
    --#{$prefix}severity-badge-bg: var(--#{$prefix}info-100);
    --#{$prefix}severity-badge-color: var(--#{$prefix}info-900);
    --#{$prefix}severity-badge-border-color: var(--#{$prefix}info-100);
    --#{$prefix}severity-color: var(--#{$prefix}info-700);
}

.severity-success {
    --#{$prefix}severity-card-header-bg: var(--#{$prefix}success-200);
    --#{$prefix}severity-card-header-color: var(--#{$prefix}success-900);
    --#{$prefix}severity-card-border-color: var(--#{$prefix}success-400);
    --#{$prefix}severity-card-footer-bg: color-mix(in srgb, var(--#{$prefix}success-100) 40%, transparent);
    --#{$prefix}severity-badge-bg: var(--#{$prefix}success-100);
    --#{$prefix}severity-badge-color: var(--#{$prefix}success-900);
    --#{$prefix}severity-badge-border-color: var(--#{$prefix}success-100);
    --#{$prefix}severity-color: var(--#{$prefix}success-700);
}

.severity-warning {
    --#{$prefix}severity-card-header-bg: var(--#{$prefix}warning-200);
    --#{$prefix}severity-card-header-color: var(--#{$prefix}warning-900);
    --#{$prefix}severity-card-border-color: var(--#{$prefix}warning-400);
    --#{$prefix}severity-card-footer-bg: color-mix(in srgb, var(--#{$prefix}warning-100) 30%, transparent);
    --#{$prefix}severity-badge-bg: var(--#{$prefix}warning-500);
    --#{$prefix}severity-badge-color: var(--#{$prefix}warning-100);
    --#{$prefix}severity-badge-border-color: var(--#{$prefix}warning-100);
    --#{$prefix}severity-color: var(--#{$prefix}warning-700);
}

.severity-error {
    --#{$prefix}severity-card-header-bg: var(--#{$prefix}danger-300);
    --#{$prefix}severity-card-header-color: var(--#{$prefix}danger-900);
    --#{$prefix}severity-card-border-color: var(--#{$prefix}danger-300);
    --#{$prefix}severity-card-footer-bg: color-mix(in srgb, var(--#{$prefix}danger-100) 40%, transparent);
    --#{$prefix}severity-card-bg: color-mix(in srgb, var(--#{$prefix}danger-100) 50%, transparent);
    --#{$prefix}severity-badge-bg: var(--#{$prefix}danger-800);
    --#{$prefix}severity-badge-color: var(--#{$prefix}danger-100);
    --#{$prefix}severity-badge-border-color: var(--#{$prefix}danger-100);
    --#{$prefix}severity-color: var(--#{$prefix}danger-700);
}

.severity-gray {
    --#{$prefix}severity-card-header-bg: var(--#{$prefix}gray-200);
    --#{$prefix}severity-card-header-color: var(--#{$prefix}gray-900);
    --#{$prefix}severity-card-border-color: var(--#{$prefix}gray-400);
    --#{$prefix}severity-card-footer-bg: color-mix(in srgb, var(--#{$prefix}gray-100) 100%, transparent);
    --#{$prefix}severity-card-bg: var(--#{$prefix}gray-100);
    --#{$prefix}severity-badge-bg: var(--#{$prefix}gray-200);
    --#{$prefix}severity-badge-color: var(--#{$prefix}gray-900);
    --#{$prefix}severity-badge-border-color: var(--#{$prefix}gray-200);
    --#{$prefix}severity-color: var(--#{$prefix}gray-700);
}

.severity-color {
    color: var(--#{$prefix}severity-color);
}

.col-1-5 {
    flex: 0 0 auto;
    width: 12.5%;
}

.col-10-5 {
    flex: 0 0 auto;
    width: 87.5%;
}

.person-photo {
    max-height: 5rem;
    width: auto;
    height: auto;
    object-fit: contain;
}

.medication-request-item {
    flex: 9 1 calc(33% - 2 * $spacing05);
    @include media-breakpoint-up(lg) {
        flex: 0 1 calc(33% - 2 * $spacing05);
    }
}

.capitalize {
    text-transform: capitalize;
}

.uppercase {
    text-transform: uppercase;
}

tbody:empty {
    // WORKAROUND for Firefox - fix borders. Firefox stops rendering borders if a table has an empty tbody - see https://bugzilla.mozilla.org/show_bug.cgi?id=217769
    display: none;
}

.dosage-container {
    max-width: calc(50% - $spacing02);
}

input:checked + .collapse-header:has(.card-subtitle) {
    .card-main-title {
        display: none;
    }

    .card-subtitle {
        color: var(--#{$prefix}severity-card-header-color);
        margin-top: 0;
        font-size: var(--#{$prefix}h6-font-size);
    }
}

.resource-container:not(:first-child) {
    margin-top: $spacing02;
}

.collapsible-content:has(.badge:not(.collapser .badge):not(.card .badge):not(table .badge)) {
    & > *.card, & > * > *.card, & > * > * > *.card, & > *:is(table), & > * > *:is(table), & > * > * > *:is(table) {
        margin-left: -0.65em; // --dt-badge-padding-x is 0.65em and for some reason doesn't resolve in the browser
        margin-right: -0.65em; // --dt-badge-padding-x is 0.65em and for some reason doesn't resolve in the browser
    }
}

.two-col-grid {
    display: grid;
    grid-template-columns: 1fr fit-content(50%);
    grid-auto-rows: min-content;
}

.card-header {
    color: var(--#{$prefix}severity-card-header-color);
    background-color: var(--#{$prefix}severity-card-header-bg);
    border-bottom: none;
    min-height: calc(var(--#{$prefix}card-cap-padding-y) + var(--#{$prefix}h6-font-size) + 0.4rem);
}

.card {
    --#{$prefix}card-spacer-x: #{$spacing02};
    --#{$prefix}card-spacer-y: #{$spacing02};
    --#{$prefix}card-cap-padding-x: #{$spacing02};
}


body:has(#detail-toggle:not(:checked)) {

    /* --------------------------------------------------
       1. Highlight alternating detail blocks
       --------------------------------------------------
       When we have an alternating background container adjacent to
       non-optional elements (i.e., real content rows), draw a border around
       that group. Also catches the inverse order.
    */
    .alternating-bg-items-container:has(~ *:not(.optional-detail)),
    :not(.optional-detail) ~ .alternating-bg-items-container {
        border: solid 0.5px var(--#{$prefix}primary-200);
        border-radius: 6px;
        overflow: hidden;
    }

    /* --------------------------------------------------
       2. Tighten padding for “single-detail” content blocks
       --------------------------------------------------
       Collapsible sections (or card bodies) that contain an
       .alternating-bg-items-container, but do NOT directly contain
       two or more siblings that are not .optional-detail.

       In other words:
       If the container has only one “real” (non-optional) child —
       a simple, single-detail structure (which therefore must be
       .alternating-bg-items-container) — tighten its padding to
       visually compress the layout.
    */
    .collapsible-content:has(> .alternating-bg-items-container):not(:has(> :not(.optional-detail) ~ :not(.optional-detail))),
    .card-body:has(> .alternating-bg-items-container):not(:has(> :not(.optional-detail) ~ :not(.optional-detail))) {
        padding: 1px !important;
    }

    /* --------------------------------------------------
       3. Remove bottom padding on sections that only contain
           a single “simple” collapsible content block
       --------------------------------------------------
       Logic: A .section containing a .collapsible-content-wrapper where
       the inner .collapsible-content (or .card-body) includes an
       .alternating-bg-items-container, but does NOT have multiple
       non-optional children.
       
       This avoids unnecessary whitespace after simple sections.
    */
    .section:has(> .collapsible-content-wrapper > .collapsible-content),
    .section:has(> .collapsible-content-wrapper > .card-body) {
        /* add the two conditions as additional top-level pseudos */
        &:has(> .collapsible-content-wrapper > .collapsible-content > .alternating-bg-items-container):not(:has(> .collapsible-content-wrapper > .collapsible-content > :not(.optional-detail) ~ :not(.optional-detail))),
        &:has(> .collapsible-content-wrapper > .card-body > .alternating-bg-items-container):not(:has(> .collapsible-content-wrapper > .card-body > :not(.optional-detail) ~ :not(.optional-detail))) {
            padding-bottom: 0;
        }
    }
}

body:has(#detail-toggle:checked) {

    /* --------------------------------------------------
       2. Highlight alternating detail blocks
       --------------------------------------------------
       In the expanded (checked) state, highlight alternating
       background containers whenever they appear adjacent to
       any sibling elements. This ensures grouped detail rows
       are visually framed even when all details are visible.
    */
    .alternating-bg-items-container:has(~ *),
    * ~ .alternating-bg-items-container {
        border: solid 0.5px var(--#{$prefix}primary-200);
        border-radius: 6px;
        overflow: hidden;
    }

    /* --------------------------------------------------
       2. Tighten padding for “simple” expanded content blocks
       --------------------------------------------------
       Collapsible sections (or card bodies) that:
         • Directly contain a single .alternating-bg-items-container, OR
         • Contain an .alternating-bg-items-container followed by a single
           .optional-detail:last-child whose only child is
           .narrative-print-collapser-hidden

       These are “simple” expanded layouts with minimal structure.
       Tighten their padding for a cleaner, more compact visual flow,
       and remove internal borders to prevent double outlines.
    */
    .collapsible-content:has(> .alternating-bg-items-container:only-child),
    .card-body:has(> .alternating-bg-items-container:only-child),
    .collapsible-content:has(> .alternating-bg-items-container:first-child + .optional-detail:last-child > .narrative-print-collapser-hidden:only-child),
    .card-body:has(> .alternating-bg-items-container:first-child + .optional-detail:last-child > .narrative-print-collapser-hidden:only-child) {
        padding: 1px !important;

        & > .alternating-bg-items-container {
            border: none;
        }
    }

    /* --------------------------------------------------
       3. Remove bottom padding on sections that only contain
           a single “simple” expanded content block
       --------------------------------------------------
       Logic: A .section containing a .collapsible-content-wrapper where
       the inner .collapsible-content (or .card-body) matches one of the
       “simple” patterns above — either:
         • a single .alternating-bg-items-container:only-child, or
         • the “alternating-bg + optional-detail” structure.
    */
    .section {
        &:has(> .collapsible-content-wrapper > .collapsible-content > .alternating-bg-items-container:only-child),
        &:has(> .collapsible-content-wrapper > .collapsible-content > .alternating-bg-items-container:first-child + .optional-detail:last-child > .narrative-print-collapser-hidden:only-child),
        &:has(> .collapsible-content-wrapper > .card-body > .alternating-bg-items-container:only-child),
        &:has(> .collapsible-content-wrapper > .card-body > .alternating-bg-items-container:first-child + .optional-detail:last-child > .narrative-print-collapser-hidden:only-child) {
            padding-bottom: 0;
        }
    }
}

.alternating-bg-items-container > div:nth-child(even) {
    background-color: var(--striped-section-bg-color);
}

.card-body > .alternating-bg-items-container > div:nth-child(even) {
    background-color: var(--odd-level-section-background-color);
}

.blue-color {
    color: var(--#{$prefix}blue);
}

.interpretation-scale {
    color: var(--#{$prefix}gray-500);
    user-select: none;
    white-space: nowrap;

    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    box-sizing: border-box;

    font-family: monospace;

    .interpretation-bullet {
        margin-left: 1px;
        margin-right: 1px;
    }

    .critical-bullet {
        color: var(--#{$prefix}danger-500);
        -webkit-text-stroke: 1px var(--#{$prefix}danger-800);
    }

    .abnormal-bullet-significant {
        color: var(--#{$prefix}danger-400);
        -webkit-text-stroke: 1px var(--#{$prefix}danger-700);
    }

    .abnormal-bullet {
        color: var(--#{$prefix}secondary-300);
        -webkit-text-stroke: 1px var(--#{$prefix}secondary-700);
    }

    .normal-bullet {
        color: var(--#{$prefix}success-300);
        -webkit-text-stroke: 1px var(--#{$prefix}success-600);
    }
}

.fixed-aligned-content {
    align-items: center;
    display: flex;
    height: 1rem;
}

.name-value-pair-wrapper {
    display: grid;
    grid-template-columns: max-content auto;
    column-gap: $spacing04;

    dl:not(.flex-column) {
        display: contents !important;
    }

    dl.flex-column {
        grid-column: span 2;
    }
}

.patient-identifier-grid {
    display: grid;
    grid-template-columns: max-content auto max-content auto;
    grid-column-gap: $spacing04;

    dl:not(.flex-column), span:has(dl:not(.flex-column)) {
        display: contents !important;
    }

    dl.flex-column {
        grid-column: span 2;
    }
}

.black {
    color: black;
}

.document-header {
    p {
        color: var(--#{$prefix}blue-800);
    }

    p, .name-value-pair > .value {
        font-weight: 600;
        overflow-wrap: anywhere;
        word-break: break-word;
    }
}

.big {
    font-size: var(--#{$prefix}big-font-size);
}

.capitalize-first {
    display: inline-block;

    &:first-letter {
        text-transform: uppercase;
    }
}


.merged-service-requests {
    background-color: var(--#{$prefix}blue-50);
}