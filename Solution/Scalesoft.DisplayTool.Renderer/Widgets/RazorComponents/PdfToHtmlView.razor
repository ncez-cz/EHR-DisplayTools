@using Scalesoft.DisplayTool.Renderer.Widgets.WidgetUtils

@{
    const string title = "Obsah";
    const string errorMessage = "PDF obsah je prázdný.";
    const string heading = "Patient summary Document";
    var content = $"<iframe style=\"height: 100vh; width: 100%;\" src=\"data:application/pdf;base64,{Convert.ToBase64String(Model.PdfBytes)}\"></iframe>";
}

@if (Model.PdfBytes.Length > 0)
{
    <HeadingView Model="new Heading.ViewModel{Content = heading, Size = HeadingSize.H2}"></HeadingView>

    <CardView
        Model="new CardBase.ViewModel{Title = title,  Body = content, Icon=Model.CollapseIcon, IsCollapsible = true }">
    </CardView>
}
else
{
    <AlertView Model="new Alert.ViewModel{Severity = Severity.Error, MainMessage = errorMessage}">
    </AlertView>
}

@code {
    [Parameter] public required PdfToHtml.PdfModel Model { get; set; }
}